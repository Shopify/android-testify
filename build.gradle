buildscript {
    repositories {
        google()
        jcenter()
        mavenLocal()
    }

    ext {
        versions = [
                'androidGradlePlugin'     : '3.3.2',          // https://developer.android.com/studio/releases/gradle-plugin.html
                'androidxConstraintLayout': '2.0.0-alpha3',   // https://developer.android.com/jetpack/androidx/releases
                'androidxCore'            : '1.0.0',          // https://developer.android.com/jetpack/androidx/releases
                'androidxCoreTesting'     : '2.0.0-rc01',     // https://developer.android.com/jetpack/androidx/releases
                'androidxEspresso'        : '3.1.0',          // https://developer.android.com/jetpack/androidx/releases
                'androidxJunit'           : '1.1.0',          // https://developer.android.com/jetpack/androidx/releases
                'androidxKtx'             : '1.0.1',          // https://developer.android.com/jetpack/androidx/releases
                'androidxTest'            : '1.1.1',          // https://developer.android.com/jetpack/androidx/releases
                'bintray'                 : '1.8.4',          // https://github.com/bintray/gradle-bintray-plugin/releases
                'dokka'                   : '0.9.18',         // https://github.com/Kotlin/dokka/releases
                'kotlin'                  : '1.3.21',         // https://kotlinlang.org/
                'ktlint'                  : '0.29.0',         // https://github.com/shyiko/ktlint
                'ktlintHtml'              : '0.2.0',          // https://github.com/mcassiano/ktlint-html-reporter
                'maven'                   : '2.1',            // https://github.com/dcendents/android-maven-gradle-plugin/releases
                'mockito2'                : '2.23.0',         // https://github.com/mockito/mockito/releases
                'mockitokotlin'           : '2.1.0',          // https://github.com/nhaarman/mockito-kotlin
                'testify'                 : '1.0.0-alpha1',   // https://github.com/Shopify/android-testify/releases
        ]
        coreVersions = [
                'shopify': [
                        'compileSdk': 28,
                        'minSdk'    : 19,
                        'targetSdk' : 28
                ]
        ]
        depends = [
                'androidx': [
                        'appcompat'       : "androidx.appcompat:appcompat:${versions.androidxCore}",
                        'constraintlayout': "androidx.constraintlayout:constraintlayout:${versions.androidxConstraintLayout}",
                        'core_ktx'        : "androidx.core:core-ktx:${versions.androidxKtx}",
                        'test'            : [
                                'core'    : "androidx.arch.core:core-testing:${versions.androidxCoreTesting}",
                                'espresso': [
                                        'core'   : "androidx.test.espresso:espresso-core:${versions.androidxEspresso}",
                                        'contrib': "androidx.test.espresso:espresso-contrib:${versions.androidxEspresso}",
                                ],
                                'junit'   : "androidx.test.ext:junit:${versions.androidxJunit}",
                                'rules'   : "androidx.test:rules:${versions.androidxTest}",
                                'runner'  : "androidx.test:runner:${versions.androidxTest}",
                        ],
                ],
                'kotlin'  : [
                        'gradleplugin': "org.jetbrains.kotlin:kotlin-gradle-plugin:${versions.kotlin}",
                        'lint'        : [
                                'main': "com.github.shyiko:ktlint:${versions.ktlint}",
                        ],
                        'lintHtml'    : "me.cassiano:ktlint-html-reporter:${versions.ktlintHtml}",
                        'stdlib7'     : "org.jetbrains.kotlin:kotlin-stdlib-jdk7:${versions.kotlin}",
                ],
                'mockito' : [
                        'kotlin': "com.nhaarman.mockitokotlin2:mockito-kotlin:${versions.mockitokotlin}",
                        'v2'    : "org.mockito:mockito-core:${versions.mockito2}"
                ]
        ]
    }

    dependencies {
        classpath "com.android.tools.build:gradle:${versions.androidGradlePlugin}"
        classpath "com.github.dcendents:android-maven-gradle-plugin:${versions.maven}"
        classpath "com.jfrog.bintray.gradle:gradle-bintray-plugin:${versions.bintray}"
        classpath "org.jetbrains.dokka:dokka-gradle-plugin:${versions.dokka}"
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:${versions.kotlin}"
    }
}

allprojects {
    repositories {
        mavenLocal()
        google()
        jcenter()
    }
}

task clean(type: Delete) {
    delete rootProject.buildDir
}
